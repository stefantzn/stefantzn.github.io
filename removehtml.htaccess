 RewriteEngine on
 #redirect /file.html to /file
 RewriteCond %{index} \s/([^.]+)\.html [NC]
 RewriteRule ^ /%1 [NE,L,R]
 # now we will internally map /file to/ file.html
 RewriteCond %{index}.html -f
 RewriteRule ^(.*)/?$ /$1.html  [L]